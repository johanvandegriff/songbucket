{% include 'header.html' %}

<h1>This is a Flask Server</h1>
<h2>With Vue.js</h2>
<div id="app">
    <p>{{ text }}</p>
    <p>[[ number ]]</p>
    <p>[[ number2 ]]</p>
</div>
<div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
<div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
<br>
<img id="drag1" src="img_logo.gif" draggable="true" ondragstart="drag(event)" width="336" height="69">
<img id="drag2" src="img_logo.gif" draggable="true" ondragstart="drag(event)" width="336" height="69">


<script src="/static/vue-2.6.11.js"></script>

<script>
  function allowDrop(ev) {
    ev.preventDefault();
  }

  function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
  }

  function drop(ev) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData("text");
    ev.target.appendChild(document.getElementById(data));
  }
    const app = new Vue ({
        delimiters: ['[[',']]'],
        el: "#app",
        data: {
            number: 0,
            number2: 0
        },
        created () {
          console.log("hi");
        },
        methods: {
            everySecond: function() {
                this.number++;
            },
            everyTwoSeconds: function() {
                this.number++;
            }
        },
        mounted () {
            setInterval(
                this.everySecond, 1000);

            setInterval(
                this.everyTwoSeconds, 2000);

            console.log("song");
        }
    });
</script>

{% include 'footer.html' %}
